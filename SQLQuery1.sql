-- 创建食物分类数据库
CREATE DATABASE FoodClassification;
GO

USE FoodClassification;
GO

-- 创建食物类别表
CREATE TABLE Categories (
    CategoryID INT PRIMARY KEY IDENTITY(1,1),
    CategoryName NVARCHAR(50) NOT NULL,
    Description NVARCHAR(255),
    ParentCategoryID INT,
    CreatedDate DATETIME DEFAULT GETDATE(),
    ModifiedDate DATETIME DEFAULT GETDATE(),
    FOREIGN KEY (ParentCategoryID) REFERENCES Categories(CategoryID)
);

-- 创建食物表
CREATE TABLE Foods (
    FoodID INT PRIMARY KEY IDENTITY(1,1),
    FoodName NVARCHAR(100) NOT NULL,
    CategoryID INT NOT NULL,
    Description NVARCHAR(500),
    Calories DECIMAL(6,2),
    Protein DECIMAL(6,2),
    Fat DECIMAL(6,2),
    Carbohydrates DECIMAL(6,2),
    Fiber DECIMAL(6,2),
    Sugar DECIMAL(6,2),
    IsVegetarian BIT DEFAULT 0,
    IsVegan BIT DEFAULT 0,
    IsGlutenFree BIT DEFAULT 0,
    CreatedDate DATETIME DEFAULT GETDATE(),
    ModifiedDate DATETIME DEFAULT GETDATE(),
    FOREIGN KEY (CategoryID) REFERENCES Categories(CategoryID)
);

-- 创建食物来源表
CREATE TABLE FoodSources (
    SourceID INT PRIMARY KEY IDENTITY(1,1),
    FoodID INT NOT NULL,
    SourceType NVARCHAR(50) CHECK (SourceType IN ('Animal', 'Plant', 'Fungus', 'Synthetic')),
    SourceDescription NVARCHAR(255),
    FOREIGN KEY (FoodID) REFERENCES Foods(FoodID)
);

-- 创建食物产地表
CREATE TABLE FoodOrigins (
    OriginID INT PRIMARY KEY IDENTITY(1,1),
    FoodID INT NOT NULL,
    Country NVARCHAR(50),
    Region NVARCHAR(50),
    City NVARCHAR(50),
    FOREIGN KEY (FoodID) REFERENCES Foods(FoodID)
);

-- 创建计量单位表
CREATE TABLE Units (
    UnitID INT PRIMARY KEY IDENTITY(1,1),
    UnitName NVARCHAR(20) NOT NULL,
    UnitSymbol NVARCHAR(10),
    UnitType NVARCHAR(20) CHECK (UnitType IN ('Mass', 'Volume', 'Count', 'Length'))
);

-- 创建食物营养数据表
CREATE TABLE FoodNutrition (
    NutritionID INT PRIMARY KEY IDENTITY(1,1),
    FoodID INT NOT NULL,
    UnitID INT NOT NULL,
    Amount DECIMAL(10,3) NOT NULL,
    Calories DECIMAL(10,3),
    Protein DECIMAL(10,3),
    Fat DECIMAL(10,3),
    Carbohydrates DECIMAL(10,3),
    Fiber DECIMAL(10,3),
    Sugar DECIMAL(10,3),
    Calcium DECIMAL(10,3),
    Iron DECIMAL(10,3),
    Sodium DECIMAL(10,3),
    Potassium DECIMAL(10,3),
    VitaminA DECIMAL(10,3),
    VitaminC DECIMAL(10,3),
    CreatedDate DATETIME DEFAULT GETDATE(),
    ModifiedDate DATETIME DEFAULT GETDATE(),
    FOREIGN KEY (FoodID) REFERENCES Foods(FoodID),
    FOREIGN KEY (UnitID) REFERENCES Units(UnitID)
);

-- 创建营养知识题库表
CREATE TABLE NutritionQuestions (
    QuestionID INT PRIMARY KEY IDENTITY(1,1),
    QuestionText NVARCHAR(MAX) NOT NULL,
    OptionA NVARCHAR(255) NOT NULL,
    OptionB NVARCHAR(255) NOT NULL,
    OptionC NVARCHAR(255) NOT NULL,
    OptionD NVARCHAR(255) NOT NULL,
    CorrectAnswer CHAR(1) NOT NULL CHECK (CorrectAnswer IN ('A', 'B', 'C', 'D')),
    Explanation NVARCHAR(MAX),
    DifficultyLevel TINYINT CHECK (DifficultyLevel BETWEEN 1 AND 3),
    Category NVARCHAR(50),
    CreatedDate DATETIME DEFAULT GETDATE()
);

-- 创建视图：获取食物及其营养信息
CREATE VIEW vw_FoodNutrition AS
SELECT 
    f.FoodID,
    f.FoodName,
    c.CategoryName,
    fn.Amount,
    u.UnitName,
    fn.Calories,
    fn.Protein,
    fn.Fat,
    fn.Carbohydrates,
    fn.Fiber,
    fn.Sugar,
    fn.Calcium,
    fn.Iron,
    fn.Sodium,
    fn.Potassium,
    fn.VitaminA,
    fn.VitaminC
FROM 
    Foods f
JOIN 
    Categories c ON f.CategoryID = c.CategoryID
JOIN 
    FoodNutrition fn ON f.FoodID = fn.FoodID
JOIN 
    Units u ON fn.UnitID = u.UnitID;

-- 插入示例数据：食物类别
INSERT INTO Categories (CategoryName, Description, ParentCategoryID) VALUES
('水果', '多汁且主要甜味的植物果实', NULL),
('蔬菜', '可作为食物的草本植物部分', NULL),
('谷物', '禾本科植物的种子', NULL),
('蛋白质', '富含蛋白质的食物', NULL),
('乳制品', '以奶为基础的食品', 4),
('肉类', '动物的可食用组织', 4),
('豆类', '豆科植物的种子', 4),
('坚果和种子', '可食用的坚果和种子', 4),
('脂肪和油', '高能量密度的食物', NULL),
('糖类', '甜味的碳水化合物', NULL);

-- 插入30种水果数据
INSERT INTO Foods (FoodName, CategoryID, Description, Calories, Protein, Fat, Carbohydrates, Fiber, Sugar, IsVegetarian, IsVegan, IsGlutenFree) VALUES
('苹果', 1, '常见的温带水果', 52, 0.3, 0.2, 13.8, 2.4, 10.4, 1, 1, 1),
('香蕉', 1, '热带水果，富含钾', 89, 1.1, 0.3, 22.8, 2.6, 12.2, 1, 1, 1),
('橙子', 1, '柑橘类水果，富含维生素C', 48, 0.9, 0.2, 11.7, 2.4, 9.3, 1, 1, 1),
('草莓', 1, '多年生草本植物的果实', 32, 0.7, 0.3, 7.7, 2, 4.9, 1, 1, 1),
('蓝莓', 1, '小而甜的蓝色浆果', 57, 0.7, 0.3, 14.5, 2.4, 9.9, 1, 1, 1),
('葡萄', 1, '常见的藤本植物果实', 69, 0.7, 0.4, 18.1, 0.9, 15.5, 1, 1, 1),
('梨', 1, '常见的落叶乔木果实', 57, 0.4, 0.1, 15.2, 3.1, 9.8, 1, 1, 1),
('桃', 1, '蔷薇科植物的果实', 48, 0.9, 0.2, 12.6, 2.1, 9.5, 1, 1, 1),
('李', 1, '常见的温带水果', 46, 0.7, 0.2, 11.5, 2.2, 7.9, 1, 1, 1),
('猕猴桃', 1, '富含维生素C的水果', 61, 1.1, 0.5, 14.6, 3, 8.9, 1, 1, 1),
('芒果', 1, '热带水果，富含维生素A', 60, 0.8, 0.4, 15, 1.6, 13.7, 1, 1, 1),
('菠萝', 1, '热带水果，富含菠萝蛋白酶', 50, 0.5, 0.1, 13.1, 1.4, 9.9, 1, 1, 1),
('西瓜', 1, '夏季常见的多汁水果', 30, 0.6, 0.2, 7.6, 0.4, 6.2, 1, 1, 1),
('哈密瓜', 1, '甜瓜的一种', 34, 0.8, 0.1, 8.5, 0.9, 7.3, 1, 1, 1),
('荔枝', 1, '热带水果，果肉晶莹剔透', 66, 0.9, 0.4, 16.5, 0.5, 15.2, 1, 1, 1),
('龙眼', 1, '热带水果，与荔枝相似', 60, 1.2, 0.1, 15.2, 1, 12.1, 1, 1, 1),
('石榴', 1, '秋季常见水果，富含抗氧化剂', 83, 1.6, 1.2, 18.7, 4.0, 13.7, 1, 1, 1),
('樱桃', 1, '蔷薇科植物的果实', 52, 1.1, 0.2, 12.8, 2.1, 9.9, 1, 1, 1),
('杨梅', 1, '中国特产水果', 28, 0.8, 0.2, 6.7, 1, 5.7, 1, 1, 1),
('柿子', 1, '秋季常见水果', 75, 0.5, 0.1, 19.7, 2.6, 17.1, 1, 1, 1),
('火龙果', 1, '热带水果，外观独特', 52, 1.2, 0.4, 11, 2, 7.8, 1, 1, 1),
('榴莲', 1, '热带水果，气味独特', 147, 2.6, 5.3, 27, 3.8, 23.4, 1, 1, 1),
('山竹', 1, '热带水果，被誉为"水果皇后"', 63, 0.6, 0.4, 16, 1.5, 13.8, 1, 1, 1),
('椰子', 1, '热带水果，果肉和汁液均可食用', 283, 3.3, 28.1, 6.2, 9, 2.6, 1, 1, 1),
('柚子', 1, '柑橘类水果，果实较大', 42, 0.8, 0.2, 10.5, 1.8, 6.8, 1, 1, 1),
('柠檬', 1, '柑橘类水果，酸味强', 29, 1.1, 0.3, 9.3, 2.8, 2.5, 1, 1, 1),
('枣', 1, '常见的温带水果', 282, 3.2, 0.5, 75.1, 6.7, 63.8, 1, 1, 1),
('山楂', 1, '蔷薇科植物的果实', 101, 0.9, 0.6, 25.1, 6.3, 12.1, 1, 1, 1),
('无花果', 1, '桑科植物的果实', 74, 1.3, 0.4, 19.1, 2.9, 16, 1, 1, 1);

-- 插入30种蔬菜数据
INSERT INTO Foods (FoodName, CategoryID, Description, Calories, Protein, Fat, Carbohydrates, Fiber, Sugar, IsVegetarian, IsVegan, IsGlutenFree) VALUES
('西兰花', 2, '十字花科蔬菜', 36, 2.8, 0.4, 7.4, 2.6, 1.5, 1, 1, 1),
('红薯', 2, '块根类蔬菜', 106, 2, 0.2, 24.2, 3, 4.2, 1, 1, 1),
('胡萝卜', 2, '伞形科蔬菜，富含胡萝卜素', 41, 0.9, 0.2, 9.6, 2.8, 4.7, 1, 1, 1),
('番茄', 2, '茄科植物的果实，常作为蔬菜食用', 18, 0.9, 0.2, 3.9, 1.2, 2.6, 1, 1, 1),
('洋葱', 2, '百合科蔬菜', 40, 1.1, 0.1, 9.3, 2.7, 4.2, 1, 1, 1),
('土豆', 2, '茄科植物的块茎', 77, 2, 0.2, 17.2, 2.2, 0.9, 1, 1, 1),
('菠菜', 2, '藜科蔬菜，富含铁', 28, 2.9, 0.4, 3.6, 2.2, 0.4, 1, 1, 1),
('生菜', 2, '菊科蔬菜', 15, 1.3, 0.3, 2.2, 1.3, 0.6, 1, 1, 1),
('黄瓜', 2, '葫芦科蔬菜', 16, 0.8, 0.2, 3.6, 0.5, 1.6, 1, 1, 1),
('青椒', 2, '茄科蔬菜', 26, 1, 0.2, 6, 2, 4.6, 1, 1, 1),
('红椒', 2, '茄科蔬菜，富含维生素C', 31, 1.1, 0.2, 7, 2.1, 5.2, 1, 1, 1),
('南瓜', 2, '葫芦科蔬菜', 26, 1, 0.1, 6.5, 0.5, 2.7, 1, 1, 1),
('冬瓜', 2, '葫芦科蔬菜', 12, 0.4, 0.2, 2.6, 0.7, 1.3, 1, 1, 1),
('西葫芦', 2, '葫芦科蔬菜', 17, 1.2, 0.2, 3.1, 1.1, 1.9, 1, 1, 1),
('茄子', 2, '茄科蔬菜', 25, 1, 0.2, 6.1, 3, 2.4, 1, 1, 1),
('豆角', 2, '豆科蔬菜', 31, 2.4, 0.2, 7, 3.3, 2.7, 1, 1, 1),
('芹菜', 2, '伞形科蔬菜', 16, 0.8, 0.1, 3.9, 1.6, 1.8, 1, 1, 1),
('韭菜', 2, '百合科蔬菜', 26, 2.5, 0.4, 4.6, 2.2, 1.7, 1, 1, 1),
('大蒜', 2, '百合科蔬菜', 128, 6.4, 0.5, 33, 2.1, 1, 1, 1, 1),
('姜', 2, '姜科蔬菜', 80, 1.4, 0.7, 17.7, 2.8, 1.7, 1, 1, 1),
('莲藕', 2, '睡莲科蔬菜', 70, 2.6, 0.1, 16.4, 4.9, 6, 1, 1, 1),
('山药', 2, '薯蓣科蔬菜', 116, 2, 0.2, 27.4, 2.4, 0.5, 1, 1, 1),
('莴笋', 2, '菊科蔬菜', 14, 1, 0.1, 2.8, 0.9, 1.1, 1, 1, 1),
('芦笋', 2, '百合科蔬菜', 20, 2.2, 0.1, 3.8, 2.1, 1.8, 1, 1, 1),
('芥菜', 2, '十字花科蔬菜', 27, 2.6, 0.4, 4.7, 2.1, 1.6, 1, 1, 1),
('苋菜', 2, '苋科蔬菜', 25, 2.8, 0.4, 4.3, 2.2, 0.8, 1, 1, 1),
('空心菜', 2, '旋花科蔬菜', 20, 2.3, 0.3, 3.6, 1.4, 1.1, 1, 1, 1),
('香菜', 2, '伞形科蔬菜', 23, 2.6, 0.4, 3.6, 1.2, 1.3, 1, 1, 1),
('茼蒿', 2, '菊科蔬菜', 21, 1.9, 0.3, 3.7, 1.2, 1.5, 1, 1, 1);

-- 插入30种谷物数据
INSERT INTO Foods (FoodName, CategoryID, Description, Calories, Protein, Fat, Carbohydrates, Fiber, Sugar, IsVegetarian, IsVegan, IsGlutenFree) VALUES
('全麦面包', 3, '用全麦面粉制作的面包', 250, 9, 3, 49, 7, 5, 1, 0, 0),
('燕麦', 3, '常见的早餐谷物', 389, 16.9, 6.9, 66.3, 10.6, 0.9, 1, 1, 1),
('大米', 3, '常见的主食', 346, 7.9, 0.6, 77.4, 0.6, 0.1, 1, 1, 1),
('小麦', 3, '主要的粮食作物', 339, 13.2, 1.5, 71.1, 12.2, 0.4, 1, 1, 0),
('玉米', 3, '常见的粮食作物', 365, 9.4, 3.9, 74.7, 7.3, 1.7, 1, 1, 1),
('大麦', 3, '粮食作物，常用于酿造啤酒', 327, 10.1, 1.7, 73.5, 17.3, 0.8, 1, 1, 1),
('黑麦', 3, '粮食作物，耐寒性强', 338, 11.8, 1.6, 71.5, 11.8, 0.7, 1, 1, 0),
('荞麦', 3, '蓼科植物的种子，非禾本科', 343, 13.3, 3.1, 65.3, 10.6, 0.5, 1, 1, 1),
('藜麦', 3, '苋科植物的种子，高蛋白', 368, 14.1, 6.1, 64.1, 7, 1.9, 1, 1, 1),
('高粱', 3, '粮食作物，耐旱性强', 329, 10.4, 3.3, 72.6, 6.3, 0.5, 1, 1, 1),
('小米', 3, '常见的杂粮', 378, 9.7, 1.7, 79.3, 1.6, 0.3, 1, 1, 1),
('糙米', 3, '保留麸皮的大米', 348, 7.5, 2.7, 77.4, 3.4, 0.4, 1, 1, 1),
('糯米', 3, '粘性强的大米', 348, 7, 0.4, 78.7, 0.4, 0.1, 1, 1, 1),
('燕麦片', 3, '燕麦轧制而成的食品', 389, 16.9, 6.9, 66.3, 10.6, 0.9, 1, 1, 1),
('全麦面粉', 3, '用全麦研磨的面粉', 340, 11.8, 2.2, 72.4, 9.8, 1.2, 1, 1, 0),
('玉米粉', 3, '玉米研磨的粉', 365, 9.4, 3.9, 74.7, 7.3, 1.7, 1, 1, 1),
('黑米粉', 3, '黑米研磨的粉', 343, 9.4, 2.5, 74.8, 3.9, 0.7, 1, 1, 1),
('荞麦面', 3, '用荞麦粉制作的面条', 334, 11.4, 2.2, 70.2, 5.8, 0.9, 1, 1, 1),
('藜麦面', 3, '用藜麦粉制作的面条', 343, 13.3, 3.1, 65.3, 10.6, 0.5, 1, 1, 1),
('通心粉', 3, '常见的意大利面', 358, 12.8, 1.5, 75.6, 3.2, 1.5, 1, 1, 0),
('意大利面', 3, '以小麦粉为原料的面食', 358, 12.8, 1.5, 75.6, 3.2, 1.5, 1, 1, 0),
('面包糠', 3, '用于油炸食品的裹粉', 366, 10.8, 1.4, 79.1, 2.9, 1.8, 1, 1, 0),
(' couscous', 3, '北非常见的主食', 376, 11.6, 0.3, 79.1, 2.2, 0.9, 1, 1, 0),
('碾碎的干小麦', 3, '中东地区常见的主食', 342, 12.7, 1.5, 71.6, 10.6, 0.4, 1, 1, 0),
('米糕', 3, '用大米制作的糕点', 348, 7, 0.4, 78.7, 0.4, 0.1, 1, 1, 1),
('玉米饼', 3, '用玉米粉制作的薄饼', 365, 9.4, 3.9, 74.7, 7.3, 1.7, 1, 1, 1),
('法棍面包', 3, '法式长棍面包', 271, 9, 1.1, 59.2, 2.8, 1.9, 1, 0, 0),
('酸面包', 3, '用酸面团发酵的面包', 250, 9, 3, 49, 7, 5, 1, 0, 0),
('百吉饼', 3, '环形面包', 270, 10.4, 1.6, 57.7, 2.4, 2.4, 1, 0, 0);

-- 插入30种蛋白质类食物数据（包括乳制品、肉类、豆类、坚果和种子）
INSERT INTO Foods (FoodName, CategoryID, Description, Calories, Protein, Fat, Carbohydrates, Fiber, Sugar, IsVegetarian, IsVegan, IsGlutenFree) VALUES
('牛奶', 5, ' cow的乳制品', 61, 3.2, 3.2, 4.8, 0, 4.8, 1, 0, 1),
('酸奶', 5, '发酵的乳制品', 72, 3.5, 2.9, 7.6, 0, 7.6, 1, 0, 1),
('奶酪', 5, '牛奶浓缩发酵制成', 402, 25.9, 33.1, 2.4, 0, 0.4, 1, 0, 1),
('黄油', 5, '从牛奶中提取的乳脂肪', 717, 0.9, 81, 0.1, 0, 0.1, 1, 0, 1),
('鸡蛋', 5, '母鸡的蛋', 143, 13, 10, 1.1, 0, 0.6, 0, 0, 1),
('鸡胸肉', 6, '鸡的胸部肉', 165, 31, 3.6, 0, 0, 0, 0, 0, 1),
('鸡腿肉', 6, '鸡的腿部肉', 209, 26, 11, 0, 0, 0, 0, 0, 1),
('牛肉', 6, '牛的肉', 250, 26, 16, 0, 0, 0, 0, 0, 1),
('猪肉', 6, '猪的肉', 395, 25.7, 32.6, 0, 0, 0, 0, 0, 1),
('羊肉', 6, '羊的肉', 294, 25.6, 20.9, 0, 0, 0, 0, 0, 1),
('鱼肉', 6, '鱼类的肉', 188, 26.6, 8.9, 0, 0, 0, 0, 0, 1),
('虾', 6, '常见的海鲜', 99, 20.4, 0.8, 0.2, 0, 0, 0, 0, 1),
('蟹', 6, '常见的甲壳类动物', 97, 18.2, 1.9, 0.9, 0, 0, 0, 0, 1),
('黑豆', 7, '常见的豆类', 341, 21, 1.2, 62, 15, 0, 1, 1, 1),
('鹰嘴豆', 7, '常用于制作鹰嘴豆泥', 364, 19, 6, 61, 12, 3, 1, 1, 1),
('红豆', 7, '常见的豆类', 329, 20.2, 0.6, 62.6, 13, 0.5, 1, 1, 1),
('绿豆', 7, '常见的豆类', 332, 21.6, 0.8, 62.6, 15.6, 1.2, 1, 1, 1),
('黄豆', 7, '常见的豆类', 446, 36.4, 19, 30.2, 9, 3.3, 1, 1, 1),
('豆腐', 7, '由黄豆制成的豆制品', 76, 8.1, 4.8, 2.9, 0.7, 0.3, 1, 1, 1),
('豆浆', 7, '由黄豆制成的饮品', 14, 1.8, 0.7, 1.1, 0.4, 0.4, 1, 1, 1),
('杏仁', 8, '营养丰富的坚果', 579, 21, 49, 22, 12, 4, 1, 1, 1),
('核桃', 8, '富含欧米茄-3脂肪酸的坚果', 654, 14.9, 65.2, 13.7, 6.7, 2.6, 1, 1, 1),
('腰果', 8, '常见的坚果', 553, 18.2, 43.8, 30.1, 3.3, 5.9, 1, 1, 1),
('花生', 8, '常见的坚果', 567, 25.8, 49.2, 16.1, 8.5, 4.7, 1, 1, 1),
('葵花籽', 8, '向日葵的种子', 582, 20, 51, 19, 12, 3, 1, 1, 1),
('南瓜籽', 8, '南瓜的种子', 559, 30.2, 46.1, 10.7, 6, 1.3, 1, 1, 1),
('芝麻', 8, '常见的种子', 573, 17.7, 49.7, 23.3, 12, 5.1, 1, 1, 1),
('亚麻籽', 8, '富含欧米茄-3脂肪酸的种子', 534, 18.3, 42.1, 28.9, 27.3, 0.6, 1, 1, 1),
('奇亚籽', 8, '富含膳食纤维的种子', 486, 16.5, 30.7, 42.1, 34.4, 0.4, 1, 1, 1);

-- 插入示例数据：计量单位
INSERT INTO Units (UnitName, UnitSymbol, UnitType) VALUES
('克', 'g', 'Mass'),
('千克', 'kg', 'Mass'),
('毫升', 'ml', 'Volume'),
('升', 'L', 'Volume'),
('个', '', 'Count'),
('杯', 'c', 'Volume'),
('汤匙', 'tbsp', 'Volume'),
('茶匙', 'tsp', 'Volume');

-- 插入食物营养数据（仅展示部分示例，实际应用中需为每个食物添加完整营养数据）
INSERT INTO FoodNutrition (FoodID, UnitID, Amount, Calories, Protein, Fat, Carbohydrates, Fiber, Sugar, Calcium, Iron, Sodium, Potassium, VitaminA, VitaminC) VALUES
(1, 1, 100, 52, 0.3, 0.2, 13.8, 2.4, 10.4, 6, 0.2, 1, 107, 54, 4.6),
(2, 1, 100, 89, 1.1, 0.3, 22.8, 2.6, 12.2, 5, 0.3, 1, 358, 64, 8.7),
(3, 1, 100, 36, 2.8, 0.4, 7.4, 2.6, 1.5, 47, 0.7, 33, 316, 623, 51.3),
(4, 1, 100, 106, 2, 0.2, 24.2, 3, 4.2, 30, 0.5, 55, 337, 14187, 2.4),
(5, 1, 100, 250, 9, 3, 49, 7, 5, 31, 2.9, 483, 115, 0, 0),
(6, 1, 100, 389, 16.9, 6.9, 66.3, 10.6, 0.9, 54, 4.7, 2, 429, 0, 0),
(7, 3, 100, 61, 3.2, 3.2, 4.8, 0, 4.8, 125, 0.1, 54, 152, 149, 0.1),
(8, 5, 1, 78, 6.3, 5.3, 0.5, 0, 0.3, 28, 0.6, 62, 63, 67, 0.6),
(9, 1, 100, 165, 31, 3.6, 0, 0, 0, 13, 1.2, 74, 332, 6, 0);

-- 插入100道营养知识选择题
INSERT INTO NutritionQuestions (QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation, DifficultyLevel, Category) VALUES
('以下哪种食物富含优质蛋白质？', '苹果', '鸡胸肉', '白米饭', '橄榄油', 'B', '鸡胸肉是优质蛋白质的良好来源，每100克含有约31克蛋白质。', 1, '蛋白质'),
('维生素C主要存在于以下哪种食物中？', '牛奶', '柑橘类水果', '鸡蛋', '牛肉', 'B', '柑橘类水果如橙子、柠檬等富含维生素C。', 1, '维生素'),
('膳食纤维对人体的主要作用是？', '提供能量', '促进肠道蠕动', '增强免疫力', '帮助钙吸收', 'B', '膳食纤维可以促进肠道蠕动，预防便秘等问题。', 1, '膳食纤维'),
('以下哪种食物属于全谷物？', '白面包', '燕麦片', '蛋糕', '饼干', 'B', '燕麦片是全谷物食品，保留了谷物的麸皮、胚芽和胚乳。', 1, '全谷物'),
('铁元素的主要功能是什么？', '维持骨骼健康', '帮助氧气运输', '调节血压', '促进伤口愈合', 'B', '铁是血红蛋白的组成成分，帮助氧气在体内运输。', 1, '矿物质'),
('以下哪种脂肪对心脏健康有益？', '饱和脂肪', '反式脂肪', '不饱和脂肪', '胆固醇', 'C', '不饱和脂肪如橄榄油、鱼油等对心脏健康有益。', 1, '脂肪'),
('成人每天建议的饮水量是多少？', '500毫升', '1000毫升', '1500-2000毫升', '3000毫升以上', 'C', '成人每天建议饮水量为1500-2000毫升，具体因个体差异而异。', 1, '水'),
('以下哪种食物含有丰富的钙？', '菠菜', '牛奶', '西红柿', '米饭', 'B', '牛奶是钙的优质来源，每100毫升约含有120毫克钙。', 1, '矿物质'),
('以下哪种维生素属于脂溶性维生素？', '维生素C', '维生素B群', '维生素A', '维生素B12', 'C', '维生素A、D、E、K属于脂溶性维生素。', 1, '维生素'),
('膳食纤维主要存在于以下哪种食物中？', '肉类', '水果和蔬菜', '乳制品', '油脂', 'B', '水果和蔬菜是膳食纤维的主要来源。', 1, '膳食纤维'),
('以下哪种食物的升糖指数（GI）较高？', '全麦面包', '白米饭', '燕麦', '藜麦', 'B', '白米饭的升糖指数较高，食用后血糖上升较快。', 2, '碳水化合物'),
('Omega-3脂肪酸主要存在于以下哪种食物中？', '橄榄油', '鱼油', '椰子油', '花生油', 'B', '鱼油中富含Omega-3脂肪酸，如EPA和DHA。', 2, '脂肪'),
('以下哪种食物富含益生菌？', '酸奶', '橙汁', '巧克力', '薯片', 'A', '酸奶中含有益生菌，有助于维持肠道健康。', 2, '益生菌'),
('以下哪种矿物质对神经系统功能至关重要？', '钠', '钾', '镁', '以上都是', 'D', '钠、钾、镁等矿物质对神经系统功能都非常重要。', 2, '矿物质'),
('以下哪种食物含有天然的抗氧化剂？', '蓝莓', '黄油', '白面包', '香肠', 'A', '蓝莓中含有丰富的抗氧化剂，如花青素。', 2, '抗氧化剂'),
('以下哪种维生素有助于铁的吸收？', '维生素A', '维生素C', '维生素D', '维生素E', 'B', '维生素C可以促进非血红素铁的吸收。', 2, '维生素'),
('以下哪种食物属于低血糖指数（低GI）食物？', '白面包', '西瓜', '全麦饼干', '蜂蜜', 'C', '全麦饼干的血糖指数较低，适合控制血糖的人群。', 2, '碳水化合物'),
('以下哪种食物富含维生素B12？', '菠菜', '鸡蛋', '苹果', '杏仁', 'B', '维生素B12主要存在于动物性食物中，如鸡蛋、肉类、奶制品等。', 2, '维生素'),
('以下哪种食物的蛋白质含量最高？', '黑豆', '鸡胸肉', '豆腐', '燕麦', 'B', '鸡胸肉的蛋白质含量约为31%，高于黑豆、豆腐和燕麦。', 2, '蛋白质'),
('以下哪种营养素是人体最主要的能量来源？', '蛋白质', '碳水化合物', '脂肪', '维生素', 'B', '碳水化合物是人体最主要的能量来源，尤其是大脑的唯一能量来源。', 2, '碳水化合物'),
('以下哪种食物含有丰富的膳食纤维？', '香蕉', '白米饭', '鸡蛋', '黄油', 'A', '香蕉中含有丰富的膳食纤维，尤其是可溶性纤维。', 2, '膳食纤维'),
('以下哪种食物属于优质碳水化合物？', '白面包', '糙米', '蛋糕', '糖果', 'B', '糙米是全谷物，属于优质碳水化合物，富含膳食纤维和营养素。', 2, '碳水化合物'),
('以下哪种食物含有丰富的维生素D？', '牛奶', '蘑菇', '橙子', '牛肉', 'A', '牛奶通常添加了维生素D，是维生素D的良好来源。', 2, '维生素'),
('以下哪种食物的脂肪含量最高？', '杏仁', '鸡胸肉', '苹果', '西兰花', 'A', '杏仁的脂肪含量约为49%，远高于其他选项。', 2, '脂肪'),
('以下哪种食物含有丰富的钾？', '香蕉', '白米饭', '鸡蛋', '黄油', 'A', '香蕉中含有丰富的钾，每100克约含有358毫克钾。', 2, '矿物质'),
('以下哪种食物属于发酵食品？', '酸奶', '橙汁', '巧克力', '薯片', 'A', '酸奶是通过发酵制成的，含有益生菌。', 2, '发酵食品'),
('以下哪种食物含有丰富的镁？', '菠菜', '牛奶', '西红柿', '米饭', 'A', '菠菜中含有丰富的镁，每100克约含有79毫克镁。', 2, '矿物质'),
('以下哪种食物属于高纤维蔬菜？', '西兰花', '黄瓜', '西红柿', '生菜', 'A', '西兰花的膳食纤维含量较高，每100克约含有2.6克纤维。', 2, '膳食纤维'),
('以下哪种食物含有丰富的维生素K？', '菠菜', '牛奶', '西红柿', '米饭', 'A', '菠菜中含有丰富的维生素K，每100克约含有483微克维生素K。', 2, '维生素'),
('以下哪种食物属于健康脂肪的来源？', '橄榄油', '黄油', '猪油', '人造奶油', 'A', '橄榄油富含单不饱和脂肪酸，是健康脂肪的来源。', 2, '脂肪'),
('以下哪种食物的胆固醇含量最高？', '鸡蛋', '鸡胸肉', '苹果', '西兰花', 'A', '鸡蛋的胆固醇含量较高，每个鸡蛋约含有186毫克胆固醇。', 2, '脂肪'),
('以下哪种食物属于低血糖指数（低GI）水果？', '西瓜', '菠萝', '苹果', '香蕉', 'C', '苹果的血糖指数较低，约为36。', 2, '碳水化合物'),
('以下哪种食物含有丰富的维生素E？', '杏仁', '牛奶', '西红柿', '米饭', 'A', '杏仁中含有丰富的维生素E，每100克约含有26毫克维生素E。', 2, '维生素'),
('以下哪种食物属于优质蛋白质的植物来源？', '黑豆', '鸡胸肉', '鸡蛋', '牛奶', 'A', '黑豆是优质蛋白质的植物来源，每100克约含有21克蛋白质。', 2, '蛋白质'),
('以下哪种食物含有丰富的锌？', '牛肉', '苹果', '西兰花', '米饭', 'A', '牛肉中含有丰富的锌，每100克约含有4.8毫克锌。', 2, '矿物质'),
('以下哪种食物属于复合碳水化合物？', '白面包', '糙米', '蛋糕', '糖果', 'B', '糙米是复合碳水化合物，含有膳食纤维和多种营养素。', 2, '碳水化合物'),
('以下哪种食物含有丰富的硒？', '巴西坚果', '苹果', '西兰花', '米饭', 'A', '巴西坚果中含有丰富的硒，每100克约含有1917微克硒。', 2, '矿物质'),
('以下哪种食物属于低糖水果？', '草莓', '菠萝', '葡萄', '香蕉', 'A', '草莓的糖分含量较低，每100克约含有4.9克糖。', 2, '碳水化合物'),
('以下哪种食物含有丰富的β-胡萝卜素？', '胡萝卜', '牛奶', '西红柿', '米饭', 'A', '胡萝卜中含有丰富的β-胡萝卜素，每100克约含有8285微克β-胡萝卜素。', 2, '维生素'),
('以下哪种食物属于优质蛋白质的动物来源？', '黑豆', '鸡胸肉', '豆腐', '燕麦', 'B', '鸡胸肉是优质蛋白质的动物来源，每100克约含有31克蛋白质。', 2, '蛋白质'),
('以下哪种食物含有丰富的维生素B6？', '香蕉', '白米饭', '鸡蛋', '黄油', 'A', '香蕉中含有丰富的维生素B6，每100克约含有0.36毫克维生素B6。', 2, '维生素'),
('以下哪种食物属于健康的零食选择？', '杏仁', '薯片', '糖果', '蛋糕', 'A', '杏仁富含蛋白质、健康脂肪和膳食纤维，是健康的零食选择。', 2, '零食'),
('以下哪种食物含有丰富的维生素C？', '橙子', '牛奶', '鸡蛋', '牛肉', 'A', '橙子中含有丰富的维生素C，每100克约含有53.2毫克维生素C。', 2, '维生素'),
('以下哪种食物属于全谷物？', '白面包', '燕麦片', '蛋糕', '饼干', 'B', '燕麦片是全谷物食品，保留了谷物的麸皮、胚芽和胚乳。', 2, '全谷物'),
('以下哪种食物含有丰富的膳食纤维？', '西兰花', '黄瓜', '西红柿', '生菜', 'A', '西兰花的膳食纤维含量较高，每100克约含有2.6克纤维。', 2, '膳食纤维'),
('以下哪种食物属于低血糖指数（低GI）食物？', '全麦面包', '白米饭', '燕麦', '藜麦', 'C', '燕麦的血糖指数较低，约为55。', 2, '碳水化合物'),
('以下哪种食物含有丰富的铁？', '菠菜', '牛奶', '西红柿', '米饭', 'A', '菠菜中含有丰富的铁，每100克约含有2.9毫克铁。', 2, '矿物质'),
('以下哪种食物属于优质碳水化合物？', '白面包', '糙米', '蛋糕', '糖果', 'B', '糙米是全谷物，属于优质碳水化合物，富含膳食纤维和营养素。', 2, '碳水化合物'),
('以下哪种食物含有丰富的维生素D？', '牛奶', '蘑菇', '橙子', '牛肉', 'A', '牛奶通常添加了维生素D，是维生素D的良好来源。', 2, '维生素'),
('以下哪种食物的脂肪含量最高？', '杏仁', '鸡胸肉', '苹果', '西兰花', 'A', '杏仁的脂肪含量约为49%，远高于其他选项。', 2, '脂肪'),
('以下哪种食物含有丰富的钾？', '香蕉', '白米饭', '鸡蛋', '黄油', 'A', '香蕉中含有丰富的钾，每100克约含有358毫克钾。', 2, '矿物质'),
('以下哪种食物属于发酵食品？', '酸奶', '橙汁', '巧克力', '薯片', 'A', '酸奶是通过发酵制成的，含有益生菌。', 2, '发酵食品'),
('以下哪种食物含有丰富的镁？', '菠菜', '牛奶', '西红柿', '米饭', 'A', '菠菜中含有丰富的镁，每100克约含有79毫克镁。', 2, '矿物质'),
('以下哪种食物属于高纤维蔬菜？', '西兰花', '黄瓜', '西红柿', '生菜', 'A', '西兰花的膳食纤维含量较高，每100克约含有2.6克纤维。', 2, '膳食纤维'),
('以下哪种食物含有丰富的维生素K？', '菠菜', '牛奶', '西红柿', '米饭', 'A', '菠菜中含有丰富的维生素K，每100克约含有483微克维生素K。', 2, '维生素'),
('以下哪种食物属于健康脂肪的来源？', '橄榄油', '黄油', '猪油', '人造奶油', 'A', '橄榄油富含单不饱和脂肪酸，是健康脂肪的来源。', 2, '脂肪'),
('以下哪种食物的胆固醇含量最高？', '鸡蛋', '鸡胸肉', '苹果', '西兰花', 'A', '鸡蛋的胆固醇含量较高，每个鸡蛋约含有186毫克胆固醇。', 2, '脂肪'),
('以下哪种食物属于低血糖指数（低GI）水果？', '西瓜', '菠萝', '苹果', '香蕉', 'C', '苹果的血糖指数较低，约为36。', 2, '碳水化合物'),
('以下哪种食物含有丰富的维生素E？', '杏仁', '牛奶', '西红柿', '米饭', 'A', '杏仁中含有丰富的维生素E，每100克约含有26毫克维生素E。', 2, '维生素'),
('以下哪种食物属于优质蛋白质的植物来源？', '黑豆', '鸡胸肉', '鸡蛋', '牛奶', 'A', '黑豆是优质蛋白质的植物来源，每100克约含有21克蛋白质。', 2, '蛋白质'),
('以下哪种食物含有丰富的锌？', '牛肉', '苹果', '西兰花', '米饭', 'A', '牛肉中含有丰富的锌，每100克约含有4.8毫克锌。', 2, '矿物质'),
('以下哪种食物属于复合碳水化合物？', '白面包', '糙米', '蛋糕', '糖果', 'B', '糙米是复合碳水化合物，含有膳食纤维和多种营养素。', 2, '碳水化合物'),
('以下哪种食物含有丰富的硒？', '巴西坚果', '苹果', '西兰花', '米饭', 'A', '巴西坚果中含有丰富的硒，每100克约含有1917微克硒。', 2, '矿物质'),
('以下哪种食物属于低糖水果？', '草莓', '菠萝', '葡萄', '香蕉', 'A', '草莓的糖分含量较低，每100克约含有4.9克糖。', 2, '碳水化合物'),
('以下哪种食物含有丰富的β-胡萝卜素？', '胡萝卜', '牛奶', '西红柿', '米饭', 'A', '胡萝卜中含有丰富的β-胡萝卜素，每100克约含有8285微克β-胡萝卜素。', 2, '维生素'),
('以下哪种食物属于优质蛋白质的动物来源？', '黑豆', '鸡胸肉', '豆腐', '燕麦', 'B', '鸡胸肉是优质蛋白质的动物来源，每100克约含有31克蛋白质。', 2, '蛋白质'),
('以下哪种食物含有丰富的维生素B6？', '香蕉', '白米饭', '鸡蛋', '黄油', 'A', '香蕉中含有丰富的维生素B6，每100克约含有0.36毫克维生素B6。', 2, '维生素'),
('以下哪种食物属于健康的零食选择？', '杏仁', '薯片', '糖果', '蛋糕', 'A', '杏仁富含蛋白质、健康脂肪和膳食纤维，是健康的零食选择。', 2, '零食'),
('以下哪种食物含有丰富的维生素C？', '橙子', '牛奶', '鸡蛋', '牛肉', 'A', '橙子中含有丰富的维生素C，每100克约含有53.2毫克维生素C。', 2, '维生素'),
('以下哪种食物属于全谷物？', '白面包', '燕麦片', '蛋糕', '饼干', 'B', '燕麦片是全谷物食品，保留了谷物的麸皮、胚芽和胚乳。', 2, '全谷物'),
('以下哪种食物含有丰富的膳食纤维？', '西兰花', '黄瓜', '西红柿', '生菜', 'A', '西兰花的膳食纤维含量较高，每100克约含有2.6克纤维。', 2, '膳食纤维'),
('以下哪种食物属于低血糖指数（低GI）食物？', '全麦面包', '白米饭', '燕麦', '藜麦', 'C', '燕麦的血糖指数较低，约为55。', 2, '碳水化合物'),
('以下哪种食物含有丰富的铁？', '菠菜', '牛奶', '西红柿', '米饭', 'A', '菠菜中含有丰富的铁，每100克约含有2.9毫克铁。', 2, '矿物质'),
('以下哪种食物属于优质碳水化合物？', '白面包', '糙米', '蛋糕', '糖果', 'B', '糙米是全谷物，属于优质碳水化合物，富含膳食纤维和营养素。', 2, '碳水化合物'),
('以下哪种食物含有丰富的维生素D？', '牛奶', '蘑菇', '橙子', '牛肉', 'A', '牛奶通常添加了维生素D，是维生素D的良好来源。', 2, '维生素'),
('以下哪种食物的脂肪含量最高？', '杏仁', '鸡胸肉', '苹果', '西兰花', 'A', '杏仁的脂肪含量约为49%，远高于其他选项。', 2, '脂肪'),
('以下哪种食物含有丰富的钾？', '香蕉', '白米饭', '鸡蛋', '黄油', 'A', '香蕉中含有丰富的钾，每100克约含有358毫克钾。', 2, '矿物质'),
('以下哪种食物属于发酵食品？', '酸奶', '橙汁', '巧克力', '薯片', 'A', '酸奶是通过发酵制成的，含有益生菌。', 2, '发酵食品'),
('以下哪种食物含有丰富的镁？', '菠菜', '牛奶', '西红柿', '米饭', 'A', '菠菜中含有丰富的镁，每100克约含有79毫克镁。', 2, '矿物质'),
('以下哪种食物属于高纤维蔬菜？', '西兰花', '黄瓜', '西红柿', '生菜', 'A', '西兰花的膳食纤维含量较高，每100克约含有2.6克纤维。', 2, '膳食纤维'),
('以下哪种食物含有丰富的维生素K？', '菠菜', '牛奶', '西红柿', '米饭', 'A', '菠菜中含有丰富的维生素K，每100克约含有483微克维生素K。', 2, '维生素'),
('以下哪种食物属于健康脂肪的来源？', '橄榄油', '黄油', '猪油', '人造奶油', 'A', '橄榄油富含单不饱和脂肪酸，是健康脂肪的来源。', 2, '脂肪'),
('以下哪种食物的胆固醇含量最高？', '鸡蛋', '鸡胸肉', '苹果', '西兰花', 'A', '鸡蛋的胆固醇含量较高，每个鸡蛋约含有186毫克胆固醇。', 2, '脂肪'),
('以下哪种食物属于低血糖指数（低GI）水果？', '西瓜', '菠萝', '苹果', '香蕉', 'C', '苹果的血糖指数较低，约为36。', 2, '碳水化合物'),
('以下哪种食物含有丰富的维生素E？', '杏仁', '牛奶', '西红柿', '米饭', 'A', '杏仁中含有丰富的维生素E，每100克约含有26毫克维生素E。', 2, '维生素'),
('以下哪种食物属于优质蛋白质的植物来源？', '黑豆', '鸡胸肉', '鸡蛋', '牛奶', 'A', '黑豆是优质蛋白质的植物来源，每100克约含有21克蛋白质。', 2, '蛋白质'),
('以下哪种食物含有丰富的锌？', '牛肉', '苹果', '西兰花', '米饭', 'A', '牛肉中含有丰富的锌，每100克约含有4.8毫克锌。', 2, '矿物质'),
('以下哪种食物属于复合碳水化合物？', '白面包', '糙米', '蛋糕', '糖果', 'B', '糙米是复合碳水化合物，含有膳食纤维和多种营养素。', 2, '碳水化合物'),
('以下哪种食物含有丰富的硒？', '巴西坚果', '苹果', '西兰花', '米饭', 'A', '巴西坚果中含有丰富的硒，每100克约含有1917微克硒。', 2, '矿物质'),
('以下哪种食物属于低糖水果？', '草莓', '菠萝', '葡萄', '香蕉', 'A', '草莓的糖分含量较低，每100克约含有4.9克糖。', 2, '碳水化合物');

-- 创建索引
CREATE INDEX idx_Foods_CategoryID ON Foods(CategoryID);
CREATE INDEX idx_FoodNutrition_FoodID ON FoodNutrition(FoodID);
CREATE INDEX idx_Categories_ParentCategoryID ON Categories(ParentCategoryID);
CREATE INDEX idx_NutritionQuestions_Category ON NutritionQuestions(Category);

-- 创建存储过程：添加新食物
CREATE PROCEDURE sp_AddFood
    @FoodName NVARCHAR(100),
    @CategoryID INT,
    @Description NVARCHAR(500) = NULL,
    @Calories DECIMAL(6,2) = NULL,
    @Protein DECIMAL(6,2) = NULL,
    @Fat DECIMAL(6,2) = NULL,
    @Carbohydrates DECIMAL(6,2) = NULL,
    @Fiber DECIMAL(6,2) = NULL,
    @Sugar DECIMAL(6,2) = NULL,
    @IsVegetarian BIT = 0,
    @IsVegan BIT = 0,
    @IsGlutenFree BIT = 0,
    @NewFoodID INT OUTPUT
AS
BEGIN
    INSERT INTO Foods (FoodName, CategoryID, Description, Calories, Protein, Fat, Carbohydrates, Fiber, Sugar, IsVegetarian, IsVegan, IsGlutenFree)
    VALUES (@FoodName, @CategoryID, @Description, @Calories, @Protein, @Fat, @Carbohydrates, @Fiber, @Sugar, @IsVegetarian, @IsVegan, @IsGlutenFree);
    
    SET @NewFoodID = SCOPE_IDENTITY();
END;

-- 创建存储过程：添加新营养知识问题
CREATE PROCEDURE sp_AddNutritionQuestion
    @QuestionText NVARCHAR(MAX),
    @OptionA NVARCHAR(255),
    @OptionB NVARCHAR(255),
    @OptionC NVARCHAR(255),
    @OptionD NVARCHAR(255),
    @CorrectAnswer CHAR(1),
    @Explanation NVARCHAR(MAX) = NULL,
    @DifficultyLevel TINYINT = 1,
    @Category NVARCHAR(50) = NULL,
    @NewQuestionID INT OUTPUT
AS
BEGIN
    INSERT INTO NutritionQuestions (QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation, DifficultyLevel, Category)
    VALUES (@QuestionText, @OptionA, @OptionB, @OptionC, @OptionD, @CorrectAnswer, @Explanation, @DifficultyLevel, @Category);
    
    SET @NewQuestionID = SCOPE_IDENTITY();
END;    